(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41eb2aa8"],{2167:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%"}},[a("a-modal",{attrs:{id:"partner",bodyStyle:"{background:red}"},on:{ok:!1},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-card",{attrs:{bordered:!1}},[a("a-form-model",{ref:"ruleForm",attrs:{model:t.form,colon:!1,layout:"horizontal",rules:t.rules}},[a("a-card",{staticClass:"no-border-card no-space-tab no-padding-title",attrs:{title:t.$t("Partner")}},[a("a-row",{attrs:{type:"flex",gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-model-item",{ref:"name",attrs:{label:t.$t("name"),prop:"name"}},[a("a-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{ref:"address",attrs:{label:t.$t("Address"),prop:"address"}},[a("a-input",{model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{ref:"email",attrs:{label:t.$t("email"),prop:"email"}},[a("a-input",{model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{ref:"inn",attrs:{label:t.$t("inn"),prop:"inn"}},[a("a-input",{model:{value:t.form.inn,callback:function(e){t.$set(t.form,"inn",e)},expression:"form.inn"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{ref:"contract",attrs:{label:t.$t("contract_number"),prop:"contract"}},[a("a-input",{model:{value:t.form.contract,callback:function(e){t.$set(t.form,"contract",e)},expression:"form.contract"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{ref:"date_of_contract",attrs:{label:t.$t("contract_date"),prop:"date_of_contract"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"Select Time",format:t.$dateFormat,valueFormat:t.$dateValueFormat},model:{value:t.form.date_of_contract,callback:function(e){t.$set(t.form,"date_of_contract",e)},expression:"form.date_of_contract"}})],1)],1)],1)],1)],1)],1),a("a-row",{staticClass:"edit-btns mt-4",attrs:{slot:"footer"},slot:"footer"},[a("a-col",{attrs:{span:"24"}},[a("a-form-model-item",[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{span:"auto"}},[a("a-button",{key:t.$t("button.cancel"),staticStyle:{"margin-right":"6px"},attrs:{size:"small",type:"grey"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(t._s(t.$t("button.cancel")))]),a("a-button",{key:t.$t("button.save"),attrs:{type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$t("button.save")))])],1)],1)],1)],1)],1)],1)],1)},o=[],n=(a("d3b7"),{data:function(){return{rules:{name:[{required:!0,message:this.$t("name")+" требуется",trigger:"change"}],address:[{required:!0,message:this.$t("Address")+" требуется",trigger:"change"}],contract:[{required:!0,message:this.$t("contract_number")+" требуется",trigger:"change"}],date_of_contract:[{required:!0,message:this.$t("contract_date")+" требуется",trigger:"change"}],inn:[{required:!0,message:this.$t("inn")+" требуется",trigger:"change"}]},form:{name:"",address:"",email:"",contract:"",date_of_contract:"",inn:""},visible:!1}},methods:{submitForm:function(){var t=this;this.$refs.ruleForm.validate((function(e,a){if(e){t.loading=!0;var r=JSON.parse(JSON.stringify(t.form));t.$store.dispatch("createOrUpdatePartner",r).then((function(e){t.$message.success("Expense has added successfully"),t.visible=!1})).finally((function(){t.loading=!1}))}}))},showModal:function(){this.visible=!this.visible}}}),s=n,i=a("2877"),l=Object(i["a"])(s,r,o,!1,null,"b5166dfa",null);e["a"]=l.exports},"4cd9":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-navigation",{attrs:{list:[{name:t.$t("Finance"),link:""},{name:t.$t("Expenses"),link:""},{name:t.$t("Детальная информация"),link:""}],isBack:{flag:!0,return:!0}}}),a("a-card",[a("a-form-model",{ref:"ruleForm",attrs:{colon:!1,layout:"horizontal",rules:t.rules,model:t.form}},[a("a-card",{staticClass:"no-border-card no-space-tab",attrs:{title:t.$t("Информация по счету")}},[a("a-row",{attrs:{type:"flex",gutter:16}},[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"date",attrs:{label:t.$t("Дата применения"),prop:"date_at"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"Select Time",format:t.$dateFormat,valueFormat:"YYYY-MM-DD"},model:{value:t.form.date_at,callback:function(e){t.$set(t.form,"date_at",e)},expression:"form.date_at"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"account",attrs:{label:t.$t("debitAccount"),prop:"account_from"}},[a("a-input",{attrs:{placeholder:t.$t("Введите номер счета")},model:{value:t.form.account_from,callback:function(e){t.$set(t.form,"account_from",e)},expression:"form.account_from"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"account",attrs:{label:t.$t("creditAccount"),prop:"account_to"}},[a("a-input",{attrs:{placeholder:t.$t("Введите номер счета")},model:{value:t.form.account_to,callback:function(e){t.$set(t.form,"account_to",e)},expression:"form.account_to"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"operation",attrs:{label:t.$t("debitOperation"),prop:"debit_operation_id"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Выберите тип операции"},model:{value:t.form.debit_operation_id,callback:function(e){t.$set(t.form,"debit_operation_id",e)},expression:"form.debit_operation_id"}},t._l(t.operations,(function(e){return a("a-select-option",{key:e.id,attrs:{value:+e.id}},[t._v(" "+t._s(t.$t(e.name))+" ")])})),1)],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"operation",attrs:{label:t.$t("creditOperation"),prop:"credit_operation_id"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Выберите тип операции"},model:{value:t.form.credit_operation_id,callback:function(e){t.$set(t.form,"credit_operation_id",e)},expression:"form.credit_operation_id"}},t._l(t.operations,(function(e){return a("a-select-option",{key:e.id,attrs:{value:+e.id}},[t._v(" "+t._s(t.$t(e.name))+" ")])})),1)],1)],1),a("a-col",{attrs:{span:8}},[a("a-row",[a("a-col",{attrs:{span:20}},[a("a-form-model-item",{ref:"description",attrs:{prop:"partner_id"}},[a("span",{staticStyle:{width:"100%"},attrs:{slot:"label"},slot:"label"},[a("span",[t._v(t._s(t.$t("Partner")))])]),a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.$t("Выберите партнера")},model:{value:t.form.partner_id,callback:function(e){t.$set(t.form,"partner_id",e)},expression:"form.partner_id"}},t._l(t.partners,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:4}},[a("a-form-model-item",{ref:"description"},[a("span",{staticStyle:{width:"100%"},attrs:{slot:"label"},slot:"label"}),a("a-tooltip",{attrs:{placement:"topLeft"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Партнер новое добавление")]),a("a-button",{on:{click:t.openModal}},[t._v("...")])],1)],1)],1)],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"description",attrs:{label:t.$t("nds_amount"),prop:"nds_amount"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{formatter:function(t){return t.replace(/(?=(\d{3})+(?!\d))/g," ")},parser:function(t){return t.replace(/\s?|(,*)/g,"")},placeholder:t.$t("Введите сумму")},model:{value:t.form.nds_amount,callback:function(e){t.$set(t.form,"nds_amount",e)},expression:"form.nds_amount"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"amount",attrs:{label:t.$t("Сумма без НДС"),prop:"amount"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:t.$t("Введите сумму")},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"monthly",attrs:{label:t.$t("monthly"),prop:"monthly"}},[a("a-switch",{model:{value:t.form.monthly,callback:function(e){t.$set(t.form,"monthly",e)},expression:"form.monthly"}})],1)],1)],1),a("a-row",{attrs:{type:"flex",gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{ref:"description",attrs:{label:t.$t("Portfolio.create.Decription"),prop:"description"}},[a("a-textarea",{attrs:{placeholder:t.$t("Введите описание"),size:"large",maxLength:200},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1)],1)],1)],1),a("a-row",{staticClass:"edit-btns mt-4"},[a("a-col",{attrs:{span:"24"}},[a("a-form-model-item",[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{span:"auto"}},[a("a-button",{staticStyle:{"margin-right":"6px"},attrs:{type:"grey",loading:t.submitting},on:{click:function(e){return t.$router.go(-1)}}},[t._v(t._s(t.$t("button.cancel")))]),a("a-button",{attrs:{type:"primary",loading:t.submitting},on:{click:t.submitExpense}},[t._v(t._s(t.$t("button.save")))])],1)],1)],1),a("ModalCompanents",{ref:"partners"})],1)],1)],1)},o=[],n=(a("d3b7"),a("2167")),s={components:{ModalCompanents:n["a"]},data:function(){return{loading:!1,submitting:!1,accounts:[],operations:[],paymentGateways:[],accountsParams:{count:null,limit:10},operationsParams:{count:null,limit:10},partners:[],paymentGatewaysParams:{count:null,limit:10},form:{account_from:null,amount:null,date_at:"",debit_operation_id:void 0,description:void 0,monthly:!1,partner_id:"",nds_amount:null},rules:{date_at:[{required:!0,message:"Пожалуйста, введите дату",trigger:"change"}],account_from:[{required:!0,message:"Пожалуйста, введите номер счета",trigger:"change"}],account_to:[{required:!0,message:"Пожалуйста, введите номер счета",trigger:"change"}],amount:[{required:!0,message:"Пожалуйста, введите cумма",trigger:"change"}],nds_amount:[{required:!0,message:"Пожалуйста, введите cумма",trigger:"change"}],debit_operation_id:[{required:!0,message:"Пожалуйста, введите тип операции",trigger:"change"}],credit_operation_id:[{required:!0,message:"Пожалуйста, введите тип операции",trigger:"change"}],description:[{required:!0,message:"Пожалуйста, введите описание",trigger:"change"}],partner_id:[{required:!0,message:"Пожалуйста, выберите",trigger:"change"}]}}},mounted:function(){this.getPartners(),this.getOperations()},methods:{openModal:function(){this.$refs.partners.showModal(),this.getPartners()},submitExpense:function(){var t=this;this.$refs.ruleForm.validate((function(e,a){e&&(t.submitting=!0,t.$store.dispatch("postExpense",t.form).then((function(e){t.$message.success("Expense has added successfully"),t.$router.go(-1)})).finally((function(){t.submitting=!1})))}))},getPartners:function(){var t=this;this.loading=!0,this.$store.dispatch("getPartners",{limit:1e3}).then((function(e){t.partners=e.partners})).finally((function(){t.loading=!1}))},getOperations:function(){var t=this;this.loading=!0,this.$store.dispatch("getOperations").then((function(e){t.operations=e.operations})).finally((function(){t.loading=!1}))}}},i=s,l=(a("51ef"),a("2877")),c=Object(l["a"])(i,r,o,!1,null,null,null);e["default"]=c.exports},"51ef":function(t,e,a){"use strict";a("79a2")},"79a2":function(t,e,a){}}]);