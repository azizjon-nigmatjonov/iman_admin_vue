(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa26d"],{1091:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-navigation",{attrs:{list:[{name:t.$t("Finance"),link:""},{name:t.$t("TreasuryDep"),link:""}],isBack:{flag:!1,link:""},noBorder:""}},[a("a-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.$router.push("/finance/partners/new")}}},[t._v(t._s(t.$t("button.create")))])],1),a("a-card",{staticClass:"no-pt-body-card"},[a("a-form-model",{ref:"ruleForm",attrs:{slot:"extra",layout:"inline"},slot:"extra"},[a("a-form-model-item",{attrs:{label:t.$t("search"),prop:"search_args"}},[a("a-input",{attrs:{placeholder:t.$t("search")},on:{change:t.onSearch},model:{value:t.search_args,callback:function(e){t.search_args=e},expression:"search_args"}})],1)],1),a("a-table",{attrs:{bordered:"",loading:t.loading,scroll:{x:200},pagination:t.pagination,columns:t.columns,"data-source":t.partners,customRow:t.onRowClick},on:{change:t.getPagination},scopedSlots:t._u([{key:"order_number",fn:function(e,n,r){return a("span",{staticStyle:{color:"#01CAB0"}},[t._v(" "+t._s(10*t.pagination.current-10+r+1)+" ")])}},{key:"dateTime",fn:function(e){return a("span",{},[t._v(" "+t._s(t._f("moment")(e,t.$dateTimeFormat)))])}},{key:"date",fn:function(e){return a("span",{},[t._v(" "+t._s(t._f("moment")(e,t.$dateFormat)))])}},{key:"contract_number",fn:function(e){return a("span",{},[t._v(" "+t._s(e.split(",")[0]))])}},{key:"contract_date",fn:function(e){return a("span",{},[t._v(" "+t._s(t._f("moment")(e.date_at,t.$dateFormat)))])}},{key:"money",fn:function(e){return a("span",{},[t._v(" "+t._s(t.$moneyFormat(+e))+" ")])}},{key:"id",fn:function(e){return a("span",{staticStyle:{color:"#01CAB0"}},[t._v(" "+t._s(e)+" ")])}},{key:"actions",fn:function(e){return a("span",{},[a("edit-btn",{on:{click:function(a){return t.$router.push("/finance/treasury/cashin/"+e.id)}}}),a("delete-btn",{on:{confirm:function(a){return t.deletePortfolio(e)}}})],1)}}])})],1)],1)},r=[],i=a("5530"),s=(a("d3b7"),a("b047")),o=a.n(s),c={data:function(){return this.onSearch=o()(this.onSearch,500),{loading:!1,query:"",date:void 0,tab:"1",search_args:"",columns:[{title:this.$t("Порядковый номер"),scopedSlots:{customRender:"order_number"},key:"created_at3",width:100},{title:this.$t("created_at"),scopedSlots:{customRender:"dateTime"},dataIndex:"created_at",key:"created_at",width:160},{title:this.$t("name"),dataIndex:"name",key:"name",width:160},{title:this.$t("address"),dataIndex:"address",key:"address",width:160},{title:this.$t("email"),dataIndex:"email",key:"email",width:160}],partners:[],pagination:{current:1,showQuickJumper:!0}}},watch:{$route:{handler:function(t,e){var a={page:parseInt(this.$route.query.page)||1,limit:10,search_args:this.$route.query.search_args};this.pagination.current=a.page,this.getPartners(a)},deep:!0}},methods:{onSearch:function(){var t=Object(i["a"])(Object(i["a"])({},this.$route.query),{},{page:1,search_args:this.search_args});this.$router.push({query:t}),this.pagination.current=1},onRowClick:function(t,e){var a=this;return{on:{click:function(e){a.$router.push("/finance/partners/"+t.id)}}}},getPagination:function(t){var e={page:t.current};this.$router.push({query:Object(i["a"])(Object(i["a"])({},this.$route.query),e)}),this.pagination.current=t.current},getPartners:function(t){var e=this;this.loading=!0,this.$store.dispatch("getPartners",t).then((function(t){e.partners=t.partners;var a=Object(i["a"])({},e.pagination);a.total=parseInt(t.Count),e.pagination=a})).finally((function(){e.loading=!1}))}},created:function(){var t={page:parseInt(this.$route.query.page)||1,limit:10,search_args:this.$route.query.search_args||void 0};this.pagination.current=t.page,this.search_args=t.search_args,this.getPartners(t)}},u=c,d=a("2877"),l=Object(d["a"])(u,n,r,!1,null,null,null);e["default"]=l.exports}}]);