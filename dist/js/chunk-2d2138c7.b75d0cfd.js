(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2138c7"],{acc2:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-navigation",{attrs:{list:[{name:t.$t("Finance"),link:""},{name:t.$t("Детальная информация"),link:""}],isBack:{flag:!0,return:!0}}}),a("a-card",[a("a-form-model",{ref:"ruleForm",attrs:{colon:!1,layout:"horizontal",rules:t.rules,model:t.form}},[a("a-card",{staticClass:"no-border-card no-space-tab",attrs:{title:t.$t("Информация по счету")}},[a("a-row",{attrs:{type:"flex",gutter:16}},[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"date",attrs:{label:t.$t("Дата применения"),prop:"date_at"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"Select Time",format:t.$dateFormat,valueFormat:"YYYY-MM-DD"},model:{value:t.form.date_at,callback:function(e){t.$set(t.form,"date_at",e)},expression:"form.date_at"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"account",attrs:{label:t.$t("debitAccount"),prop:"account_from"}},[a("a-input",{attrs:{placeholder:t.$t("Введите номер счета")},model:{value:t.form.account_from,callback:function(e){t.$set(t.form,"account_from",e)},expression:"form.account_from"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"account",attrs:{label:t.$t("creditAccount"),prop:"account_to"}},[a("a-input",{attrs:{placeholder:t.$t("Введите номер счета")},model:{value:t.form.account_to,callback:function(e){t.$set(t.form,"account_to",e)},expression:"form.account_to"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"operation",attrs:{label:t.$t("debitOperation"),prop:"debit_operation_id"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Выберите тип операции"},model:{value:t.form.debit_operation_id,callback:function(e){t.$set(t.form,"debit_operation_id",e)},expression:"form.debit_operation_id"}},t._l(t.operations,(function(e){return a("a-select-option",{key:e.id,attrs:{value:+e.id}},[t._v(" "+t._s(t.$t(e.name))+" ")])})),1)],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"operation",attrs:{label:t.$t("creditOperation"),prop:"credit_operation_id"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Выберите тип операции"},model:{value:t.form.credit_operation_id,callback:function(e){t.$set(t.form,"credit_operation_id",e)},expression:"form.credit_operation_id"}},t._l(t.operations,(function(e){return a("a-select-option",{key:e.id,attrs:{value:+e.id}},[t._v(" "+t._s(t.$t(e.name))+" ")])})),1)],1)],1),a("a-col",{attrs:{span:8}},[a("a-row",[a("a-col",{attrs:{span:20}},[a("a-form-model-item",{ref:"description",attrs:{prop:"partner_id"}},[a("span",{staticStyle:{width:"100%"},attrs:{slot:"label"},slot:"label"},[a("span",[t._v(t._s(t.$t("Partner")))])]),a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.$t("Выберите партнера")},model:{value:t.form.partner_id,callback:function(e){t.$set(t.form,"partner_id",e)},expression:"form.partner_id"}},t._l(t.partners,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:4}},[a("a-form-model-item",{ref:"description"},[a("span",{staticStyle:{width:"100%"},attrs:{slot:"label"},slot:"label"}),a("a-tooltip",{attrs:{placement:"topLeft"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Партнер новое добавление")]),a("a-button",{on:{click:t.openModal}},[t._v("...")])],1)],1)],1)],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"description",attrs:{label:t.$t("nds_amount"),prop:"nds_amount"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{formatter:function(t){return t.replace(/(?=(\d{3})+(?!\d))/g," ")},parser:function(t){return t.replace(/\s?|(,*)/g,"")}},model:{value:t.form.nds_amount,callback:function(e){t.$set(t.form,"nds_amount",e)},expression:"form.nds_amount"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"amount",attrs:{label:t.$t("Сумма без НДС"),prop:"amount"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:t.$t("Введите сумму")},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{ref:"monthly",attrs:{label:t.$t("monthly"),prop:"monthly"}},[a("a-switch",{model:{value:t.form.monthly,callback:function(e){t.$set(t.form,"monthly",e)},expression:"form.monthly"}})],1)],1)],1),a("a-row",{attrs:{type:"flex",gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{ref:"description",attrs:{label:t.$t("Portfolio.create.Decription"),prop:"description"}},[a("a-textarea",{attrs:{placeholder:t.$t("Введите описание"),size:"large",maxLength:200},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1)],1)],1)],1),a("a-row",{staticClass:"edit-btns mt-4"},[a("a-col",{attrs:{span:"24"}},[a("a-form-model-item",[a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{span:"auto"}},[a("a-button",{staticStyle:{"margin-right":"6px"},attrs:{type:"grey",loading:t.loading},on:{click:function(e){return t.$router.go(-1)}}},[t._v(t._s(t.$t("button.cancel")))]),a("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.updateGl}},[t._v(t._s(t.$t("button.save")))])],1)],1)],1),a("ModalCompanents",{ref:"partners"})],1)],1)],1)},o=[],n=a("5530"),i=(a("d3b7"),{account_from:[{required:!0,message:"Пожалуйста, введите",trigger:"blur"}],account_to:[{required:!0,message:"Пожалуйста, введите",trigger:"blur"}],amount:[{required:!0,message:"Пожалуйста, введите",trigger:"blur"}],count_credit:[{required:!0,message:"Пожалуйста, введите",trigger:"blur"}],count_debit:[{required:!0,message:"Пожалуйста, введите",trigger:"blur"}],date_at:[{required:!0,message:"Пожалуйста, введите",trigger:"blur"}],operation_type:[{required:!0,message:"Пожалуйста, введите",trigger:"blur"}],partner_id:[{required:!0,message:"Пожалуйста, введите",trigger:"blur"}],description:[{required:!0,message:"Пожалуйста, введите",trigger:"blur"}]}),s={data:function(){return{loading:!1,partners:[],operations:[],form:{account_from:"",account_to:"",created_at:"",credit:0,date_at:"",debit:0,description:"",guid:"",object_id:"",object_type:"",operation_type:"",partner_id:"",payment_gateway:""},rules:i}},methods:{getCashInOutDetail:function(t){var e=this;this.$store.dispatch("getCashInOutDetail",t).then((function(t){e.form=t.gl}))},getActions:function(){var t=this;this.$store.dispatch("getPartners").then((function(e){t.partners=e.partners})),this.$store.dispatch("getOperations").then((function(e){t.operations=e.operations}))},updateGl:function(){var t=this;if(this.$isValid(this)){this.loading=!0;var e=Object(n["a"])({},this.form);this.$store.dispatch("updateGl",e).then((function(e){t.$router.go(-1)})).finally((function(){t.loading=!1}))}}},created:function(){this.getActions(),this.getCashInOutDetail(this.$route.params.id)}},l=s,c=a("2877"),d=Object(c["a"])(l,r,o,!1,null,null,null);e["default"]=d.exports}}]);