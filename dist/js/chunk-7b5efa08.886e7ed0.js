(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b5efa08"],{"0885":function(t,e,n){},"6e7a":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-row",{staticClass:"mb-2",attrs:{type:"flex",justify:"end"}},[n("a-col",{attrs:{span:"auto"}},[n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.onChange()}}},[t._v(t._s(t.$t("button.create")))])],1)],1),n("a-table",{attrs:{columns:t.columns,"data-source":t.accounts,"row-key":function(t){return t.id}},scopedSlots:t._u([{key:"status",fn:function(e){return n("span",{},[n("a-tag",{attrs:{color:t.getStatusColor(e.is_active)}},[t._v(t._s(e.is_active?t.$t("active"):t.$t("inactive")))])],1)}},{key:"actions",fn:function(e){return n("span",{staticClass:"span"},[n("delete-btn",{on:{confirm:function(n){return t.deletePosAgentsAccount(e)}}}),n("a-popconfirm",{attrs:{title:"Вы хотите заблокировать?","ok-text":"Да","cancel-text":"Нет"},on:{confirm:function(n){return t.updatePosAgentsAcount(e)},cancel:function(t){return null}}},[n("icon-btn",{attrs:{icon:"lock",title:t.$t("button.preview")}})],1)],1)}}])}),this.accounts?n("a-modal",{attrs:{title:t.$t("добавить аккаунт"),"on-ok":"handleOk"},on:{ok:t.postPosAgentsAccount,cancel:t.handleCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[[n("a-form-model",{attrs:{colon:!1,model:t.account}},[n("a-col",{staticStyle:{padding:"0 15px"}},[n("a-form-model-item",{attrs:{label:t.$t("posAgent_number"),prop:"posAgent_number"}},[n("a-input",{attrs:{type:"number"},on:{keypress:function(e){return t.isNumber(e)},keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.preventDefault()}},model:{value:t.account.phone_number,callback:function(e){t.$set(t.account,"phone_number",e)},expression:"account.phone_number"}})],1)],1)],1)]],2):t._e()],1)},a=[],o=n("5530"),c=(n("a434"),n("c740"),{data:function(){return{visible:!1,account:{phone_number:""},columns:[{title:this.$t("phone_number"),dataIndex:"phone_number",key:"phone_number"},{title:this.$t("Status"),scopedSlots:{customRender:"status"},key:"status"},{title:this.$t("category.table.Actions"),scopedSlots:{customRender:"actions"},key:"actions",width:150}],pos_agents:{},accounts:[]}},methods:{isNumber:function(t){var e;t=null!==(e=t)&&void 0!==e?e:window.event;var n=t.which?t.which:t.keyCode;if(!(n>31&&(n<48||n>57)&&46!==n))return!0;t.preventDefault()},handleCancel:function(t){this.visible=!1},onChange:function(){this.visible=!0},getStatusColor:function(t){var e;switch(t){case!0:e="green";break;case!1:e="red";break;default:e="brown"}return e},onChange1:function(){this.account.is_active?this.account.is_active=!1:this.account.is_active=!0},postPosAgentsAccount:function(){var t=this,e={id:this.$route.params.id,data:{phone_number:this.account.phone_number}};this.$store.dispatch("postPosAgentsAccount",e).then((function(e){t.accounts.push({is_active:!0,phone_number:t.account.phone_number}),t.$message.success("Pos agent  added successfully"),t.visible=!1})).catch((function(e){t.$message.error(e.response.data.message)}))},getPosAgent:function(t){var e=this;this.$store.dispatch("getPosAgent",this.$route.params.id).then((function(t){e.pos_agent=t.pos_agent,e.accounts=t.pos_agent.accounts})).catch((function(t){e.$alertMessage(t.response.data.message)}))},deletePosAgentsAccount:function(t){var e=this,n={id:this.$route.params.id,data:t};this.$store.dispatch("deletePosAgentsAccount",n).then((function(n){e.pos_agent.accounts.splice(e.pos_agent.accounts.findIndex((function(e){return e.phone_number===t.phone_number})),1),e.$message.success(" Pos agent account deleted successfully")})).catch((function(t){e.$alertMessage(t.response.data.message)}))},updatePosAgentsAcount:function(t){var e=this;!0===this.is_active?this.is_active=!1:this.is_active=!0;var n={id:this.$route.params.id,data:Object(o["a"])(Object(o["a"])({},t),{},{is_active:this.is_active})};this.$store.dispatch("updatePosAgentsAcount",n).then((function(t){e.$message.success("Account has updated successfully")})).catch((function(t){e.$alertMessage(t.response.data.message)}))}},created:function(t){this.getPosAgent(t)}}),i=c,u=(n("8991"),n("2877")),r=Object(u["a"])(i,s,a,!1,null,null,null);e["default"]=r.exports},8991:function(t,e,n){"use strict";n("0885")}}]);