(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20ff56"],{b69e:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a-navigation",{attrs:{list:[{name:t.$t("Константы"),link:"/settings/constants"},{name:t.$route.params.id?t.$t("button.edit"):t.$t("Добавить"),link:""}],isBack:{flag:!0,return:!0},noBorder:""}}),e("a-card",{staticClass:"no-border-card no-pt-body-card",attrs:{title:t.$route.params.id?t.$t("button.edit"):"Cоздание константы"}},[e("a-form-model",{ref:"ruleForm",attrs:{colon:!1,model:t.form,rules:t.rules}},[e("a-row",{staticClass:"form-row",attrs:{gutter:16}},[e("a-col",{attrs:{span:8}},[e("a-form-model-item",{ref:"name",attrs:{label:"Название",prop:"name"}},[e("a-input",{attrs:{placeholder:t.$t("name"),disabled:t.$route.params.id},on:{blur:function(){t.$refs.name.onFieldBlur()}},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1)],1),e("a-col",{attrs:{span:8}},[e("a-form-model-item",{ref:"value",attrs:{label:t.$t("value"),prop:"value"}},[e("a-input",{attrs:{placeholder:t.$t("value")},on:{blur:function(){t.$refs.value.onFieldBlur()}},model:{value:t.form.value,callback:function(a){t.$set(t.form,"value",a)},expression:"form.value"}})],1)],1),e("a-col",{attrs:{span:8}},[e("a-form-model-item",{ref:"key",attrs:{label:t.$t("key"),prop:"key"}},[e("a-input",{attrs:{placeholder:t.$t("key")},on:{blur:function(){t.$refs.key.onFieldBlur()}},model:{value:t.form.key,callback:function(a){t.$set(t.form,"key",a)},expression:"form.key"}})],1)],1)],1)],1)],1),e("a-row",{staticClass:"edit-btns mt-4"},[e("a-col",{attrs:{span:"24"}},[e("a-form-model-item",[e("a-row",{attrs:{type:"flex",justify:"end"}},[e("a-col",{attrs:{span:"auto"}},[e("a-button",{staticStyle:{"margin-right":"6px"},attrs:{type:"grey",loading:t.loading},on:{click:t.cancelPost}},[t._v(t._s(t.$t("button.cancel")))]),t.isNewForm?e("a-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.postConstant}},[t._v(t._s(t.$t("button.create")))]):e("a-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.updateConstant}},[t._v(t._s(t.$t("button.save")))])],1)],1)],1)],1)],1)],1)},n=[],s=e("5530"),o=(e("d3b7"),e("b0c0"),{data:function(){return{loading:!1,isNewForm:!1,form:{name:"",value:"",key:""},rules:{name:[{required:!0,message:"Пожалуйста, введите имя репетитора",trigger:"blur"}],value:[{required:!0,message:"Пожалуйста, введите значение",trigger:"blur"}],key:[{required:!0,message:"Пожалуйста, введите ключ",trigger:"blur"}]}}},methods:{postConstant:function(){var t=this;if(!this.$isValid(this))return this.$formValidationError("warning","Form required","Please provide all fields",this),-1;this.$store.dispatch("postConstant",this.form).then((function(a){t.$alertMessage("success","Constant","Constant created successfully",t),t.cancelPost()})).finally((function(){t.loading=!1}))},getConstant:function(t){var a=this;this.$store.dispatch("getConstant",t).then((function(t){a.form.name=t.name,a.form.value=t.data.value,a.form.key=t.data.key}))},updateConstant:function(){var t=this;if(!this.$isValid(this))return this.$formValidationError("warning","Form required","Please provide all fields",this),-1;this.$store.dispatch("updateConstant",Object(s["a"])(Object(s["a"])({},this.form),{},{id:this.$route.params.id})).then((function(a){t.$alertMessage("success","Constant","Constant has updated successfully",t),t.cancelPost()})).finally((function(){t.loading=!1}))},cancelPost:function(){this.$router.go(-1)},handleSubmit:function(t){}},created:function(){this.$isEmptyObj(this.$route.params)?this.isNewForm=!0:this.getConstant(this.$route.params.id)}}),i=o,l=e("2877"),u=Object(l["a"])(i,r,n,!1,null,null,null);a["default"]=u.exports}}]);