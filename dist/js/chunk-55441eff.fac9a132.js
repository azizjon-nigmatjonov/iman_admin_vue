(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55441eff"],{"0327":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-navigation",{attrs:{list:[{name:t.$t("Роли"),link:""}],isBack:{flag:!1,link:""}}},[a("a-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.$router.push("/system/roles/new")}}},[t._v("Создать роль")])],1),a("a-card",[a("a-row",[a("a-col",{attrs:{span:"auto"}},[a("a-table",{attrs:{columns:t.columns,"data-source":t.roles,bordered:"",loading:t.loading},scopedSlots:t._u([{key:"name",fn:function(e){return a("span",{},[a("a-row",{attrs:{type:"flex",gutter:16}},[a("a-col",{attrs:{type:"flex",span:"auto"}},[e.image.url?a("a-avatar",{attrs:{size:50,src:e.image.url}}):a("a-avatar",{attrs:{size:50},domProps:{textContent:t._s(e.name.substring(0,1).toUpperCase())}})],1),a("a-col",{attrs:{type:"flex",span:"auto"}},[a("h3",[t._v(t._s(e.name))]),a("a-tag",{attrs:{color:"green"}},[t._v(t._s(e.phone))])],1)],1)],1)}},{key:"created_at",fn:function(e){return a("span",{},[t._v(t._s(t._f("moment")(t.$date(e.created_at),t.$dateTimeFormat)))])}},{key:"active",fn:function(e){return a("span",{},[a("a-switch",{model:{value:e.active,callback:function(a){t.$set(e,"active",a)},expression:"text.active"}})],1)}},{key:"action",fn:function(e){return a("span",{},[a("a-col",{attrs:{span:"auto"}},[a("a-row",{attrs:{type:"flex",gutter:[8]}},[a("a-col",{attrs:{span:"auto"}},[a("delete-btn",{on:{confirm:function(a){return t.deleteUserRole(e.id)}}})],1),a("a-col",{attrs:{span:"auto"}},[a("edit-btn",{on:{click:function(a){return t.$router.push("/system/roles/"+e.id)}}})],1)],1)],1)],1)}}])})],1)],1)],1)],1)},s=[],o=a("5530"),r=(a("d3b7"),a("d81d"),{data:function(){return{loading:!1,roles:[],columns:[{title:"Название",key:"name",dataIndex:"name"},{title:this.$t("table.actions"),key:"action",width:200,scopedSlots:{customRender:"action"}}]}},methods:{getRoles:function(){var t=this;this.loading=!0,this.$store.dispatch("getUserRoles",this.$store.state.Auth.client_id).then((function(e){t.roles=e.user_roles.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{key:t.id})}))})).finally((function(){t.loading=!1}))},deleteUserRole:function(t){var e=this;this.$store.dispatch("deleteUserRole",t).then((function(a){e.$deleteFromList(e.roles,t),e.$alertMessage("success","Deleted","Role deleted successfully",e)}))}},created:function(){this.getRoles()}}),i=r,c=(a("0cb1"),a("2877")),l=Object(c["a"])(i,n,s,!1,null,"6e8f1ff5",null);e["default"]=l.exports},"0cb1":function(t,e,a){"use strict";a("8327")},8327:function(t,e,a){}}]);